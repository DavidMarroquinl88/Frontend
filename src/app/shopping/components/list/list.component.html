<div class="text-center">
  <h2>MIS COMPRAS</h2>
</div>

<p-card>
  <div class="text-end mb-5">
    <button severity="secondary" (click)="onShowAddItem()" pButton label="Agregar Artículo"></button>
  </div>
  <p-table [value]="items">
    <ng-template pTemplate="header">
      <tr>
        <th>Código</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Cantidad</th>
        <th style="width: 10rem;">Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-element>
      <tr>
        <td>{{element.articleCode}}</td>
        <td>{{element.articleName}}</td>
        <td>{{element.articleDescription}}</td>
        <td>{{element.articlePrice}}</td>
        <td>{{element.quantity}}</td>
        <td>
          <button pTooltip="Eliminar" tooltipPosition="top" (click)="onDeleteItem(element)" icon="pi pi-trash"
            class="mb-2" pButton></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <div class="text-end mt-5">
    <button (click)="onShopping()"  pButton label="Comprar Artículos"></button>
  </div>
</p-card>

<p-dialog [header]="titleModal" [modal]="true" [(visible)]="showModal" [style]="{ width: '80vw' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">

  <div *ngIf="showModal">
    <div class="container">
      <div *ngFor="let item of articles">

        <div class="container-img">
          <img [src]="item.imageUrl" alt="imagen">
          <div class="container-text">
            <div class="container-detail">
              <h4 class="text-center">Precio {{item.price}}</h4>
              <h3 class="text-center">Nombre {{item.name}}</h3>
            </div>
            <p-fluid>
              <div class="mt-2">
                <p-floatLabel>
                  <input type="number" id="quantity" pInputText [(ngModel)]="item.quantity" />
                  <label for="quantity">Cantidad</label>
                </p-floatLabel>
              </div>
              <div class="mt-2">
                <p-button (click)="onAddArticle(item)" label="Agregar" severity="secondary"></p-button>
              </div>
            </p-fluid>
          </div>
        </div>

      </div>
    </div>
  </div>

</p-dialog>
